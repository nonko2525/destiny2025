<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Unmei - 出会いが鳴り、恋が奏でる運命</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      /* 鍵盤サイズ（必要ならここを調整） */
      --keyW: 68px;           /* 白鍵の幅 */
      --keysH: 320px;         /* 白鍵の高さ */
      --blackW: calc(var(--keyW) * 0.62);
      --blackH: calc(var(--keysH) * 0.65);

      --stageBg1:#1c0d0d;     /* 深紅 */
      --stageBg2:#000;        /* 黒   */
      --gold:#ffd700;
    }

    *{box-sizing:border-box}
    body {
      margin: 0;
      min-height: 100dvh;
      background: radial-gradient(circle at center, var(--stageBg1) 0%, var(--stageBg2) 80%);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      font-family: 'Playfair Display', serif;
      color: var(--gold);
      /* 下に鍵盤ぶんの余白を確保（ボタンと非干渉） */
      padding-bottom: calc(var(--keysH) + 32px);
    }

    h1 {
      font-size: clamp(42px,7vw,72px);
      color: var(--gold);
      text-shadow: 0 0 25px rgba(255, 215, 0, 1);
      letter-spacing: 3px;
      margin: 0 0 8px;
      animation: fadeIn 1.6s ease forwards;
    }

    p {
      font-size: clamp(16px,2.4vw,22px);
      color: var(--gold);
      letter-spacing: 2px;
      opacity: 0;
      animation: subtitle 1.2s ease forwards;
      animation-delay: .6s;
      text-shadow: 0 0 15px rgba(255,215,0,0.8);
      margin: 0 0 10px;
      white-space: nowrap;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes subtitle {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .slot {
      position: absolute;
      top: 12%;
      display: flex;
      justify-content: center;
      gap: 16px;
      opacity: 0;
      animation: slotFade .9s ease forwards;
      animation-delay: .9s;
    }
    @keyframes slotFade { to { opacity: 1; } }

    .slot-box {
      width: clamp(88px,14vw,120px);
      height: clamp(72px,12vw,100px);
      background: linear-gradient(180deg,#2a1b1b,#3a0303);
      border: 2px solid var(--gold);
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: var(--gold);
      font-weight: bold;
      font-size: clamp(14px,2.4vw,20px);
      box-shadow: 0 0 15px rgba(255,215,0,0.5);
      text-align: center;
    }

    button {
      position: relative;
      margin-top: clamp(40px,7vh,100px);
      background: linear-gradient(90deg, #8b0000, #b30000);
      color: var(--gold);
      border: 2px solid var(--gold);
      padding: 16px 40px;
      font-size: clamp(18px,2.6vw,24px);
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 25px rgba(255,215,0,0.4);
      transition: all 0.18s ease;
      text-shadow: 0 0 12px rgba(255,215,0,0.85);
      z-index: 3;
    }
    button:hover { transform: translateY(-2px); box-shadow: 0 0 35px rgba(255,215,0,0.9); }

    .footer-note {
      position: fixed;
      bottom: 8px; left: 50%; transform: translateX(-50%);
      color: var(--gold);
      font-size: 14px;
      text-shadow: 0 0 10px rgba(255,215,0,0.6);
      opacity:.85; pointer-events:none;
    }

    /* ===== 本物配列の鍵盤（白鍵レイヤー＋黒鍵レイヤー） ===== */
    .keys {
      position: fixed;
      bottom: 0; left: 50%; transform: translateX(-50%);
      width: 100%;
      display: grid;
      place-items: end center;
      z-index: 1;
      filter: drop-shadow(0 10px 24px rgba(0,0,0,.55));
      pointer-events: none;
      user-select: none;
    }
    .keys-inner{
      position: relative;
      height: var(--keysH);
      /* 88鍵だと横幅が大きいので、画面幅で縮むようにスケール */
      transform-origin: bottom center;
    }

    /* 白鍵 */
    .white {
      position: absolute;
      bottom: 0;
      width: var(--keyW);
      height: var(--keysH);
      background: linear-gradient(to bottom, #fff, #e7e7e7);
      border: 1px solid #444;
      border-radius: 4px;
      transition: filter .12s linear, box-shadow .12s linear;
    }
    /* 黒鍵（上に重ねる） */
    .black {
      position: absolute;
      bottom: calc(var(--keysH) - var(--blackH));
      width: var(--blackW);
      height: var(--blackH);
      background: linear-gradient(to bottom, #111, #000);
      border: 1px solid #222;
      border-radius: 4px;
      z-index: 2;
      box-shadow: 0 2px 6px rgba(0,0,0,.6);
      transition: filter .12s linear, box-shadow .12s linear;
    }

    /* 小画面で縮小 */
    @media (max-width: 1100px){
      .keys-inner{ transform: scale(.9); }
    }
    @media (max-width: 900px){
      .keys-inner{ transform: scale(.8); }
    }
    @media (max-width: 750px){
      .keys-inner{ transform: scale(.7); }
    }
    @media (max-width: 600px){
      .keys-inner{ transform: scale(.6); }
    }
  </style>
</head>
<body>
  <h1>Unmei</h1>
  <p>出会いが鳴り、恋が奏でる運命</p>

  <div class="slot">
    <div class="slot-box">身長</div>
    <div class="slot-box">顔</div>
    <div class="slot-box">MBTI</div>
    <div class="slot-box">年齢</div>
    <div class="slot-box">国籍</div>
  </div>

  <button>運命を奏でる</button>

  <!-- 本物配列の鍵盤（自動生成用の空コンテナ） -->
  <div class="keys" aria-hidden="true">
    <div class="keys-inner" id="keysInner"></div>
  </div>

  <div class="footer-note">© 2025 Unmei Project</div>

  <script>
  // ===== 88鍵（白52・黒36）に近い見た目配列を生成 =====
  // 白鍵は C D E F G A B の並び。黒鍵は C#,D#,F#,G#,A#（EとBには黒鍵なし）
  // ここでは「白鍵52本」を基準に横位置を決め、黒鍵はその上に配置。
  (function(){
    const inner = document.getElementById('keysInner');
    const whiteW = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--keyW'));
    // 白鍵の本数（見た目に十分：ここでは 52 本＝フルに近い）
    const WHITE_COUNT = 52;

    // 白鍵配置
    for(let i=0;i<WHITE_COUNT;i++){
      const w = document.createElement('div');
      w.className = 'white';
      w.style.left = `${i * whiteW}px`;
      inner.appendChild(w);
    }

    // 黒鍵の配置（1オクターブの白鍵は 7 枚）
    // 白鍵インデックス: 0:C,1:D,2:E,3:F,4:G,5:A,6:B
    // 黒鍵は 0.7 幅くらい右寄せに置くと見た目が自然
    const pattern = [0,1,3,4,5]; // C#, D#, F#, G#, A#（EとBには黒鍵なし）
    const blackOffset = whiteW * 0.68; // 白鍵左からのオフセット
    const octaves = Math.floor(WHITE_COUNT / 7);

    for(let oct=0; oct<octaves; oct++){
      const base = oct * 7;
      pattern.forEach(p=>{
        const idx = base + p;
        if (idx >= WHITE_COUNT - 1) return; // はみ出し防止
        const b = document.createElement('div');
        b.className = 'black';
        // 黒鍵の中心が白鍵間に来るように少し右に寄せる
        b.style.left = `${idx * whiteW + blackOffset}px`;
        inner.appendChild(b);
      });
    }

    // コンテナ幅を白鍵本数に合わせる
    inner.style.width = `${WHITE_COUNT * whiteW}px`;
  })();
  </script>
</body>
</html>
